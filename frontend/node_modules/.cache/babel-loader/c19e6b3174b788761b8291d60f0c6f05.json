{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\elaie\\\\Downloads\\\\FullStack_Ecommerce_App-main\\\\frontend\\\\src\\\\pages\\\\AddressUpdatePage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Form, Button, Card } from 'react-bootstrap';\nimport { checkTokenValidation, getAllAddress, getSingleAddress, logout, updateUserAddress } from '../actions/userActions';\nimport { useHistory } from 'react-router-dom';\nimport { UPDATE_USER_ADDRESS_RESET } from '../constants';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AddressUpdatePage = ({\n  match\n}) => {\n  _s();\n\n  let history = useHistory();\n  const dispatch = useDispatch();\n  const [name, setName] = useState(\"\");\n  const [phoneNumber, setPhoneNumber] = useState(\"\");\n  const [pinCode, setPinCode] = useState(\"\");\n  const [houseNumber, setHouseNumber] = useState(\"\");\n  const [landmark, setLandmark] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [state, setState] = useState(\"\"); // login reducer\n\n  const userLoginReducer = useSelector(state => state.userLoginReducer);\n  const {\n    userInfo\n  } = userLoginReducer; // check token validation reducer\n\n  const checkTokenValidationReducer = useSelector(state => state.checkTokenValidationReducer);\n  const {\n    error: tokenError\n  } = checkTokenValidationReducer; // get single address reducer    \n\n  const getSingleAddressReducer = useSelector(state => state.getSingleAddressReducer);\n  const {\n    address,\n    error: errorFetchingAddress\n  } = getSingleAddressReducer; // get single address reducer    \n\n  const updateUserAddressReducer = useSelector(state => state.updateUserAddressReducer);\n  const {\n    success: addressUpdateSuccess\n  } = updateUserAddressReducer;\n  useEffect(() => {\n    if (!userInfo) {\n      history.push(\"/login\");\n    } else {\n      dispatch(checkTokenValidation());\n      dispatch(getSingleAddress(match.params.id));\n    }\n  }, [dispatch, history, userInfo, match]); // token validation check\n\n  if (userInfo && tokenError === \"Request failed with status code 401\") {\n    alert(\"Session expired, please login again.\");\n    dispatch(logout());\n    history.push(\"/login\");\n    window.location.reload();\n  }\n\n  const addressSubmitHandler = e => {\n    e.preventDefault();\n    const updatedAddress = {\n      \"name\": name,\n      \"phone_number\": phoneNumber,\n      \"pin_code\": pinCode,\n      \"house_no\": houseNumber,\n      \"landmark\": landmark,\n      \"city\": city,\n      \"state\": state\n    };\n    dispatch(updateUserAddress(match.params.id, updatedAddress));\n  };\n\n  if (addressUpdateSuccess) {\n    alert(\"Address updated successfully.\");\n    dispatch({\n      type: UPDATE_USER_ADDRESS_RESET\n    });\n    history.push(\"/all-addresses/\");\n    dispatch(getAllAddress());\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-center text-info\",\n      children: /*#__PURE__*/_jsxDEV(\"em\", {\n        children: \"Update Address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 50\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), errorFetchingAddress && /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Invalid Address Request\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 38\n    }, this), /*#__PURE__*/_jsxDEV(Card, {\n      className: \"mx-auto mb-4\",\n      style: {\n        width: \"50%\",\n        border: \"1px solid\",\n        borderColor: \"#C6ACE7\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          onSubmit: addressSubmitHandler,\n          children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"name\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              autoFocus: true,\n              type: \"text\",\n              placeholder: \"enter your name\",\n              defaultValue: address ? address.name : \"\",\n              onChange: e => setName(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"phoneNumber\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"phone number\",\n              pattern: \"[0-9]+\",\n              maxLength: \"10\",\n              defaultValue: address ? address.phone_number : \"\",\n              onChange: e => setPhoneNumber(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"pinCode\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Pin Code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"pin code\",\n              defaultValue: address ? address.pin_code : \"\",\n              pattern: \"[0-9]+\",\n              maxLength: \"6\",\n              onChange: e => setPinCode(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"houseNumber\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"House No./Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"house number\",\n              defaultValue: address ? address.house_no : \"\",\n              onChange: e => setHouseNumber(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"landmark\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"Landmark\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"landmark\",\n              defaultValue: address ? address.landmark : \"\",\n              onChange: e => setLandmark(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"city\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"city\",\n              defaultValue: address ? address.city : \"\",\n              onChange: e => setCity(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n            controlId: \"state\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              children: \"State\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n              type: \"text\",\n              placeholder: \"state\",\n              defaultValue: address ? address.state : \"\",\n              onChange: e => setState(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              width: \"100%\"\n            },\n            className: \"btn-sm\",\n            type: \"submit\",\n            variant: \"success\",\n            children: \"Save Changes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            style: {\n              width: \"100%\"\n            },\n            className: \"btn-sm mt-2\",\n            variant: \"primary\",\n            onClick: () => history.push(\"/all-addresses/\"),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 9\n  }, this);\n};\n\n_s(AddressUpdatePage, \"TxAHyFc2Y9jGbYGc0UHkdyIN8Sg=\", false, function () {\n  return [useHistory, useDispatch, useSelector, useSelector, useSelector, useSelector];\n});\n\n_c = AddressUpdatePage;\nexport default AddressUpdatePage;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddressUpdatePage\");","map":{"version":3,"sources":["C:/Users/elaie/Downloads/FullStack_Ecommerce_App-main/frontend/src/pages/AddressUpdatePage.js"],"names":["React","useState","useEffect","useDispatch","useSelector","Form","Button","Card","checkTokenValidation","getAllAddress","getSingleAddress","logout","updateUserAddress","useHistory","UPDATE_USER_ADDRESS_RESET","AddressUpdatePage","match","history","dispatch","name","setName","phoneNumber","setPhoneNumber","pinCode","setPinCode","houseNumber","setHouseNumber","landmark","setLandmark","city","setCity","state","setState","userLoginReducer","userInfo","checkTokenValidationReducer","error","tokenError","getSingleAddressReducer","address","errorFetchingAddress","updateUserAddressReducer","success","addressUpdateSuccess","push","params","id","alert","window","location","reload","addressSubmitHandler","e","preventDefault","updatedAddress","type","width","border","borderColor","target","value","phone_number","pin_code","house_no"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { Form, Button, Card } from 'react-bootstrap'\nimport { checkTokenValidation, getAllAddress, getSingleAddress, logout, updateUserAddress } from '../actions/userActions'\nimport { useHistory } from 'react-router-dom'\nimport { UPDATE_USER_ADDRESS_RESET } from '../constants'\n\n\nconst AddressUpdatePage = ({ match }) => {\n\n    let history = useHistory()\n    const dispatch = useDispatch()\n\n    const [name, setName] = useState(\"\")\n    const [phoneNumber, setPhoneNumber] = useState(\"\")\n    const [pinCode, setPinCode] = useState(\"\")\n    const [houseNumber, setHouseNumber] = useState(\"\")\n    const [landmark, setLandmark] = useState(\"\")\n    const [city, setCity] = useState(\"\")\n    const [state, setState] = useState(\"\")\n\n    // login reducer\n    const userLoginReducer = useSelector(state => state.userLoginReducer)\n    const { userInfo } = userLoginReducer\n\n    // check token validation reducer\n    const checkTokenValidationReducer = useSelector(state => state.checkTokenValidationReducer)\n    const { error: tokenError } = checkTokenValidationReducer\n\n    // get single address reducer    \n    const getSingleAddressReducer = useSelector(state => state.getSingleAddressReducer)\n    const { address, error: errorFetchingAddress } = getSingleAddressReducer\n\n    // get single address reducer    \n    const updateUserAddressReducer = useSelector(state => state.updateUserAddressReducer)\n    const { success: addressUpdateSuccess } = updateUserAddressReducer\n\n    useEffect(() => {\n        if (!userInfo) {\n            history.push(\"/login\")\n        } else {\n            dispatch(checkTokenValidation())\n            dispatch(getSingleAddress(match.params.id))\n        }\n    }, [dispatch, history, userInfo, match])\n\n    // token validation check\n    if (userInfo && tokenError === \"Request failed with status code 401\") {\n        alert(\"Session expired, please login again.\")\n        dispatch(logout())\n        history.push(\"/login\")\n        window.location.reload()\n    }\n\n    const addressSubmitHandler = (e) => {\n        e.preventDefault()\n        const updatedAddress = {\n            \"name\": name,\n            \"phone_number\": phoneNumber,\n            \"pin_code\": pinCode,\n            \"house_no\": houseNumber,\n            \"landmark\": landmark,\n            \"city\": city,\n            \"state\": state,\n        }\n        dispatch(updateUserAddress(match.params.id, updatedAddress))\n    }\n\n    if(addressUpdateSuccess) {\n        alert(\"Address updated successfully.\")\n        dispatch({\n            type: UPDATE_USER_ADDRESS_RESET\n        })\n        history.push(\"/all-addresses/\")\n        dispatch(getAllAddress())\n    }\n\n    return (\n        <div>\n            <p className=\"text-center text-info\"><em>Update Address</em></p>\n            {errorFetchingAddress && <h3>Invalid Address Request</h3>}\n            <Card\n                className=\"mx-auto mb-4\"\n                style={{ width: \"50%\", border: \"1px solid\", borderColor: \"#C6ACE7\" }}\n            >\n                <Card.Body>\n                    <Form onSubmit={addressSubmitHandler}>\n\n                        <Form.Group controlId='name'>\n                            <Form.Label>\n                                Name\n                            </Form.Label>\n                            <Form.Control\n                                autoFocus={true}\n                                type=\"text\"\n                                placeholder=\"enter your name\"\n                                defaultValue={address ? address.name : \"\"}\n                                onChange={(e) => setName(e.target.value)}\n                            >\n                            </Form.Control>\n                        </Form.Group>\n\n                        <Form.Group controlId='phoneNumber'>\n                            <Form.Label>\n                                Phone Number\n                            </Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"phone number\"\n                                pattern=\"[0-9]+\"\n                                maxLength=\"10\"\n                                defaultValue={address ? address.phone_number : \"\"}\n                                onChange={(e) => setPhoneNumber(e.target.value)}\n                            >\n                            </Form.Control>\n                        </Form.Group>\n\n                        <Form.Group controlId='pinCode'>\n                            <Form.Label>\n                                Pin Code\n                            </Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"pin code\"\n                                defaultValue={address ? address.pin_code : \"\"}\n                                pattern=\"[0-9]+\"\n                                maxLength=\"6\"\n                                onChange={(e) => setPinCode(e.target.value)}\n                            >\n                            </Form.Control>\n                        </Form.Group>\n\n                        <Form.Group controlId='houseNumber'>\n                            <Form.Label>\n                                House No./Address\n                            </Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"house number\"\n                                defaultValue={address ? address.house_no : \"\"}\n                                onChange={(e) => setHouseNumber(e.target.value)}\n                            >\n                            </Form.Control>\n                        </Form.Group>\n\n                        <Form.Group controlId='landmark'>\n                            <Form.Label>\n                                Landmark\n                            </Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"landmark\"\n                                defaultValue={address ? address.landmark : \"\"}\n                                onChange={(e) => setLandmark(e.target.value)}\n                            >\n                            </Form.Control>\n                        </Form.Group>\n\n                        <Form.Group controlId='city'>\n                            <Form.Label>\n                                City\n                            </Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"city\"\n                                defaultValue={address ? address.city : \"\"}\n                                onChange={(e) => setCity(e.target.value)}\n                            >\n                            </Form.Control>\n                        </Form.Group>\n\n                        <Form.Group controlId='state'>\n                            <Form.Label>\n                                State\n                            </Form.Label>\n                            <Form.Control\n                                type=\"text\"\n                                placeholder=\"state\"\n                                defaultValue={address ? address.state : \"\"}\n                                onChange={(e) => setState(e.target.value)}\n                            >\n                            </Form.Control>\n                        </Form.Group>\n\n\n                        <Button\n                            style={{ width: \"100%\" }}\n                            className=\"btn-sm\"\n                            type=\"submit\"\n                            variant=\"success\"\n                        >\n                            Save Changes\n                        </Button>\n\n                        <Button\n                            style={{ width: \"100%\" }}\n                            className=\"btn-sm mt-2\"\n                            variant=\"primary\"\n                            onClick={() => history.push(\"/all-addresses/\")}\n                        >\n                            Cancel\n                        </Button>\n\n\n                    </Form>\n\n                </Card.Body>\n            </Card>\n        </div >\n    )\n}\n\nexport default AddressUpdatePage\n"]},"metadata":{},"sourceType":"module"}